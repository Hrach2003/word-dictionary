(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{20:function(e,t,a){e.exports=a(35)},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s,u,l=a(8),i=a(4),p=a(5);!function(e){e.CREATE_POST="APP_CREATE_POST",e.DELETE_POST="APP_DELETE_POST"}(s||(s={})),function(e){e.SIGN_IN="SIGN_IN",e.SIGN_OUT="SIGN_OUT"}(u||(u={}));var d={authorized:!1,user:null},m=function(e,t){switch(t.type){case u.SIGN_IN:return Object(p.a)({},e,{authorized:!0,user:t.payload.user});case u.SIGN_OUT:return Object(p.a)({},e,{user:null,authorized:!1});default:return e}};var E=a(19),f={posts:[]},b=function(e,t){switch(t.type){case s.CREATE_POST:return Object(p.a)({},e,{posts:[].concat(Object(E.a)(e.posts),[t.payload.post])});case s.DELETE_POST:return Object(p.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.payload.id}))});default:return e}};function h(){var e,t=Object(n.useReducer)(b,f),a=Object(i.a)(t,2),r=a[0],c=a[1],o=(e=c,{createPost:function(t){e({type:s.CREATE_POST,payload:{post:t}})},deletePost:function(t){e({type:s.DELETE_POST,payload:{id:t}})}});return{appState:r,appDispatch:c,deletePost:o.deletePost,createPost:o.createPost}}var v=Object(n.createContext)({}),O=function(e){var t=e.children,a=h(),c=a.appState,o=a.appDispatch,s=a.createPost,u=a.deletePost,l=function(){var e=Object(n.useReducer)(m,d),t=Object(i.a)(e,2);return{userState:t[0],userDispatch:t[1]}}(),p=l.userState,E=l.userDispatch;return r.a.createElement(v.Provider,{value:{appState:c,appDispatch:o,userState:p,userDispatch:E,createPost:s,deletePost:u}},t)},P=a(3),S=a(11),g=a.n(S),y=a(16),w=function(){Object(P.g)();var e=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1];return{bind:{value:a,onChange:function(e){r(e.target.value)}},clear:function(){return r("")},value:a}}(),t=Object(n.useContext)(v),a=t.appState,c=t.createPost,o=t.deletePost,s=function(){var e=Object(y.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(a=e.sent)){e.next=11;break}return e.abrupt("return",console.log(a));case 11:window.location.href="/auth/google";case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"p-4"},r.a.createElement("input",Object.assign({className:"input",onCopy:function(e){return console.log(e)}},e.bind)),r.a.createElement("button",{className:"btn ml-3",onClick:function(){e.value&&(c({title:e.value,id:Date.now().toString()}),e.clear())}},"Add Post"),a.posts.map((function(e){return r.a.createElement("div",{key:e.id,className:"bg-gray-400 rounded p-3 my-2 flex justify-between items-center shadow-md"},r.a.createElement("p",{className:"text-gray-800 capitalize text-lg truncate pr-4"},e.title)," ",r.a.createElement("button",{className:"btn btn-red",onClick:function(){return o(e.id)}}," delete "))})),r.a.createElement("a",{className:"btn",onClick:s},"Auth Google"))},T=function(){return r.a.createElement(P.d,null,r.a.createElement(P.b,{path:"/"},r.a.createElement(w,null)),r.a.createElement(P.a,{to:"/"}))};var j=function(){return r.a.createElement("div",{className:"text-center bg-gray-300 h-screen"},r.a.createElement("h1",{className:"text-3xl font-semibold uppercase"},"My app"),r.a.createElement(T,null))};a(34);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null,r.a.createElement(l.a,null,r.a.createElement(j,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.08c741c6.chunk.js.map